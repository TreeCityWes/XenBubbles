{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\XenBubbles\\\\XenBubbles\\\\src\\\\components\\\\BubbleListSelector.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Papa from 'papaparse';\nimport { fetchTokenData } from '../services/dexscreener';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListSelector = styled.div`\n  margin-bottom: 10px;\n`;\n_c = ListSelector;\nconst Button = styled.button`\n  background: rgba(57, 255, 20, 0.1);\n  color: #39FF14;\n  border: 2px solid #39FF14;\n  padding: 8px 20px;\n  margin: 0 8px;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-size: 1.1em;\n  text-shadow: 0 0 5px #39FF14;\n  box-shadow: 0 0 15px rgba(57, 255, 20, 0.2);\n\n  &:hover {\n    background: rgba(57, 255, 20, 0.2);\n    box-shadow: 0 0 20px rgba(57, 255, 20, 0.4);\n  }\n\n  &:active {\n    background: rgba(57, 255, 20, 0.3);\n    box-shadow: 0 0 25px rgba(57, 255, 20, 0.5);\n  }\n\n  ${props => props.active && `\n    background: rgba(57, 255, 20, 0.2);\n    box-shadow: \n      0 0 20px rgba(57, 255, 20, 0.4),\n      inset 0 0 10px rgba(57, 255, 20, 0.2);\n  `}\n`;\n_c2 = Button;\nconst lists = [{\n  id: 'ALL',\n  file: null\n}, {\n  id: 'Xen',\n  file: 'Xen.csv'\n}, {\n  id: 'Xen-Alts',\n  file: 'Xen-Alts.csv'\n}, {\n  id: 'DBXen',\n  file: 'DBXen.csv'\n}];\nconst BubbleListSelector = ({\n  onListChange\n}) => {\n  _s();\n  const [activeList, setActiveList] = useState('Xen');\n  const [listData, setListData] = useState([]);\n  useEffect(() => {\n    loadListData(activeList);\n  }, [activeList]);\n  const loadListData = async listId => {\n    try {\n      if (listId === 'ALL') {\n        // Load and combine all lists\n        const allData = await Promise.all(lists.filter(list => list.file) // Skip the ALL entry\n        .map(async list => {\n          const response = await fetch(`/lists/${list.file}`);\n          const text = await response.text();\n          return new Promise(resolve => {\n            Papa.parse(text, {\n              header: true,\n              complete: results => resolve(results.data)\n            });\n          });\n        }));\n\n        // Combine and process all data\n        const combinedTokens = allData.flat().filter(row => row.contract && row.chain);\n        processTokens(combinedTokens);\n        return;\n      }\n\n      // Load single list\n      const selectedList = lists.find(list => list.id === listId);\n      if (!selectedList) return;\n      const response = await fetch(`/lists/${selectedList.file}`);\n      const text = await response.text();\n      Papa.parse(text, {\n        header: true,\n        complete: results => {\n          const validTokens = results.data.filter(row => row.contract && row.chain);\n          processTokens(validTokens);\n        }\n      });\n    } catch (error) {\n      console.error('Error loading CSV:', error);\n    }\n  };\n  const processTokens = async validTokens => {\n    const tokensWithData = await Promise.all(validTokens.map(async token => {\n      try {\n        const marketData = await fetchTokenData(token.chain, token.contract);\n        return {\n          contract: token.contract,\n          chain: token.chain,\n          ...marketData,\n          color: (marketData === null || marketData === void 0 ? void 0 : marketData.color) || '#3498db'\n        };\n      } catch (error) {\n        console.error(`Error fetching data for ${token.contract}:`, error);\n        return null;\n      }\n    }));\n    const filteredTokens = tokensWithData.filter(token => token !== null);\n    setListData(filteredTokens);\n    onListChange(filteredTokens);\n  };\n  return /*#__PURE__*/_jsxDEV(ListSelector, {\n    children: lists.map(list => /*#__PURE__*/_jsxDEV(Button, {\n      active: activeList === list.id,\n      onClick: () => setActiveList(list.id),\n      children: list.id\n    }, list.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n};\n_s(BubbleListSelector, \"I2T4ZNKlr3Dwo5pTxxVUUozh5wY=\");\n_c3 = BubbleListSelector;\nexport default BubbleListSelector;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ListSelector\");\n$RefreshReg$(_c2, \"Button\");\n$RefreshReg$(_c3, \"BubbleListSelector\");","map":{"version":3,"names":["React","useState","useEffect","styled","Papa","fetchTokenData","jsxDEV","_jsxDEV","ListSelector","div","_c","Button","button","props","active","_c2","lists","id","file","BubbleListSelector","onListChange","_s","activeList","setActiveList","listData","setListData","loadListData","listId","allData","Promise","all","filter","list","map","response","fetch","text","resolve","parse","header","complete","results","data","combinedTokens","flat","row","contract","chain","processTokens","selectedList","find","validTokens","error","console","tokensWithData","token","marketData","color","filteredTokens","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c3","$RefreshReg$"],"sources":["C:/Projects/XenBubbles/XenBubbles/src/components/BubbleListSelector.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport Papa from 'papaparse';\r\nimport { fetchTokenData } from '../services/dexscreener';\r\n\r\nconst ListSelector = styled.div`\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: rgba(57, 255, 20, 0.1);\r\n  color: #39FF14;\r\n  border: 2px solid #39FF14;\r\n  padding: 8px 20px;\r\n  margin: 0 8px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  font-size: 1.1em;\r\n  text-shadow: 0 0 5px #39FF14;\r\n  box-shadow: 0 0 15px rgba(57, 255, 20, 0.2);\r\n\r\n  &:hover {\r\n    background: rgba(57, 255, 20, 0.2);\r\n    box-shadow: 0 0 20px rgba(57, 255, 20, 0.4);\r\n  }\r\n\r\n  &:active {\r\n    background: rgba(57, 255, 20, 0.3);\r\n    box-shadow: 0 0 25px rgba(57, 255, 20, 0.5);\r\n  }\r\n\r\n  ${props => props.active && `\r\n    background: rgba(57, 255, 20, 0.2);\r\n    box-shadow: \r\n      0 0 20px rgba(57, 255, 20, 0.4),\r\n      inset 0 0 10px rgba(57, 255, 20, 0.2);\r\n  `}\r\n`;\r\n\r\nconst lists = [\r\n  { id: 'ALL', file: null },\r\n  { id: 'Xen', file: 'Xen.csv' },\r\n  { id: 'Xen-Alts', file: 'Xen-Alts.csv' },\r\n  { id: 'DBXen', file: 'DBXen.csv' }\r\n];\r\n\r\nconst BubbleListSelector = ({ onListChange }) => {\r\n  const [activeList, setActiveList] = useState('Xen');\r\n  const [listData, setListData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadListData(activeList);\r\n  }, [activeList]);\r\n\r\n  const loadListData = async (listId) => {\r\n    try {\r\n      if (listId === 'ALL') {\r\n        // Load and combine all lists\r\n        const allData = await Promise.all(\r\n          lists\r\n            .filter(list => list.file) // Skip the ALL entry\r\n            .map(async list => {\r\n              const response = await fetch(`/lists/${list.file}`);\r\n              const text = await response.text();\r\n              return new Promise(resolve => {\r\n                Papa.parse(text, {\r\n                  header: true,\r\n                  complete: (results) => resolve(results.data)\r\n                });\r\n              });\r\n            })\r\n        );\r\n\r\n        // Combine and process all data\r\n        const combinedTokens = allData.flat().filter(row => row.contract && row.chain);\r\n        processTokens(combinedTokens);\r\n        return;\r\n      }\r\n\r\n      // Load single list\r\n      const selectedList = lists.find(list => list.id === listId);\r\n      if (!selectedList) return;\r\n\r\n      const response = await fetch(`/lists/${selectedList.file}`);\r\n      const text = await response.text();\r\n      \r\n      Papa.parse(text, {\r\n        header: true,\r\n        complete: (results) => {\r\n          const validTokens = results.data.filter(row => row.contract && row.chain);\r\n          processTokens(validTokens);\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.error('Error loading CSV:', error);\r\n    }\r\n  };\r\n\r\n  const processTokens = async (validTokens) => {\r\n    const tokensWithData = await Promise.all(\r\n      validTokens.map(async (token) => {\r\n        try {\r\n          const marketData = await fetchTokenData(token.chain, token.contract);\r\n          return {\r\n            contract: token.contract,\r\n            chain: token.chain,\r\n            ...marketData,\r\n            color: marketData?.color || '#3498db'\r\n          };\r\n        } catch (error) {\r\n          console.error(`Error fetching data for ${token.contract}:`, error);\r\n          return null;\r\n        }\r\n      })\r\n    );\r\n\r\n    const filteredTokens = tokensWithData.filter(token => token !== null);\r\n    setListData(filteredTokens);\r\n    onListChange(filteredTokens);\r\n  };\r\n\r\n  return (\r\n    <ListSelector>\r\n      {lists.map(list => (\r\n        <Button\r\n          key={list.id}\r\n          active={activeList === list.id}\r\n          onClick={() => setActiveList(list.id)}\r\n        >\r\n          {list.id}\r\n        </Button>\r\n      ))}\r\n    </ListSelector>\r\n  );\r\n};\r\n\r\nexport default BubbleListSelector; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}